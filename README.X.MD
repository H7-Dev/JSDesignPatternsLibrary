# Issue üòï

**Issue: Eventos de clique sendo disparados duas vezes **

**[Link da Issue](https://github.com/H7-Dev/JSDesignPatternsLibrary/issues/1)**

## Prioridade üö®: 
Alta

## Vis√£o Geral üåê
Estamos enfrentando um problema onde os eventos de clique est√£o sendo registrados duas vezes em nosso sistema de delega√ß√£o de eventos. Isso resulta em logs duplicados no console e, potencialmente, em a√ß√µes duplicadas no sistema.

## üö© **Problema: üòï**
-  Duplo click em `botaoSeletor` registrando o mesmo evento de clique duas vezes
- Evento disparado para o mesmo bot√£o
- Mesmo sem nenhuma inst√¢ncia duplicada da classe detectada

## üîç **An√°lise do Problema: üò£**
- Eventos de clique podem estar se propagando mais de uma vez devido √† reconstru√ß√£o din√¢mica dos elementos
- A atual configura√ß√£o do ouvinte de eventos n√£o previne a duplica√ß√£o

## üìã Lista de Tarefas
- [x] Revisar a implementa√ß√£o da delega√ß√£o de eventos
    Garantir que os ouvintes de eventos est√£o sendo adicionados corretamente e n√£o s√£o duplicados.

- [x] Adicionar a flag `eventConfigured`
    Implementar uma flag para prevenir a adi√ß√£o m√∫ltipla de ouvintes de eventos no mesmo elemento.

- [x] Refatorar o m√©todo `setupDelegatedEvent`
    Incluir a l√≥gica de remo√ß√£o do ouvinte de evento anterior antes de adicionar um novo.

- [x] Testar a nova implementa√ß√£o
    Realizar testes para confirmar que a duplica√ß√£o de eventos foi resolvida.

- [x] Documentar a solu√ß√£o no sistema de rastreamento de issues
    Criar e preencher um issue detalhando o problema, a an√°lise, a solu√ß√£o implementada e o c√≥digo relevante.


## üõ†Ô∏è **Solu√ß√£o Implementada: ü§©**
- Implementa√ß√£o de uma flag para verificar se o evento j√° foi configurado
- Remo√ß√£o de ouvintes de eventos anteriores antes de adicionar novos para prevenir duplica√ß√£o
- Testes confirmam que a duplica√ß√£o de eventos foi resolvida

**Trecho de c√≥digo relevante:**

```javascript
class ClickEventDelegatorModel extends DomReadyComponent {
    // ...

    constructor(options) {
        super();
        this.options = options;
        this.eventConfigured = false;
        this.delegatedEventHandler = null;
    }

    // ...

    setupDelegatedEvent() {
        const container = document.getElementById(this.options.containerId);

        // Remova o evento anterior se j√° existir
        if (this.delegatedEventHandler) {
            container.removeEventListener('click', this.delegatedEventHandler);
        }

        // Adiciona o novo evento
        this.delegatedEventHandler = (e) => {
            // L√≥gica do manipulador de eventos
        };

        container.addEventListener('click', this.delegatedEventHandler);
        this.eventConfigured = true;
    }
}

```

## Data de Vencimento (Due Date): 
N/A

## Refer√™ncias: 
- Discuss√µes internas com a equipe de desenvolvimento
- Documenta√ß√£o do MDN sobre `EventTarget.addEventListener()` e `EventTarget.removeEventListener()`

---

Este trecho de c√≥digo mostra como a solu√ß√£o foi implementada para garantir que os ouvintes de eventos n√£o sejam duplicados, mesmo quando os elementos s√£o dinamicamente reconstru√≠dos.


üîë **Pontos-Chave da Solu√ß√£o:**
- Adi√ß√£o da propriedade `eventConfigured` para atuar como uma flag
- Utiliza√ß√£o do m√©todo `removeEventListener` para remover ouvintes antigos antes de adicionar novos

## Data de Vencimento (Due Date): 
N/A

## Refer√™ncias: 
- Discuss√µes internas com a equipe de desenvolvimento
- Documenta√ß√£o do MDN sobre `EventTarget.addEventListener()` e `EventTarget.removeEventListener()`

--- 

Este issue fornece uma vis√£o clara do problema enfrentado, como ele foi analisado e a solu√ß√£o que foi implementada para resolver o problema. Ele pode ser utilizado para futuras refer√™ncias e como uma parte do conhecimento compartilhado da equipe.


# Mensagem Commit

**01.01 - ClickEventDelegatorModel -v1.1.0**

Statu: Funcional ‚úîÔ∏è

feat:
- Implementada flag `eventConfigured` para garantir a adi√ß√£o √∫nica de ouvintes de evento.
- Refatorado o m√©todo `setupDelegatedEvent` para remover ouvintes de eventos antigos antes da adi√ß√£o de novos.
- Conduzidos testes para assegurar que eventos de clique n√£o s√£o mais duplicados.
- Adicionado trecho de c√≥digo relevante √† documenta√ß√£o da issue para esclarecer a solu√ß√£o implementada.
- Documentada a solu√ß√£o de eventos duplicados no sistema de rastreamento de issues para refer√™ncia futura.

Vers√£o:
- Fase do projeto: Alfa
- Vers√£o da tabela: 1.1.0
- Linguagem: JavaScript

Resumo do Commit: Resolvida a issue de eventos de clique duplicados na delega√ß√£o de eventos com a implementa√ß√£o de uma flag e aprimoramento na l√≥gica de adi√ß√£o/remo√ß√£o de ouvintes de eventos. O sistema agora corretamente registra um √∫nico evento por a√ß√£o do usu√°rio, conforme confirmado pelos testes realizados.

---

Esta mensagem de commit documenta as mudan√ßas feitas em resposta √† issue, proporciona um resumo do que foi feito e atualiza as informa√ß√µes de vers√£o do projeto.

[Issue](https://github.com/H7-Dev/JSDesignPatternsLibrary/issues/1)